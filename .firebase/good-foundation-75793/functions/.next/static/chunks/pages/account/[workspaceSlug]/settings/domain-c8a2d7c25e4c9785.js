(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[615],{6393:function(e,t,r){let s=r(7294),n=s.forwardRef(function({title:e,titleId:t,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))});e.exports=n},5530:function(e,t,r){let s=r(7294),n=s.forwardRef(function({title:e,titleId:t,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z",clipRule:"evenodd"}))});e.exports=n},8982:function(e,t,r){let s=r(7294),n=s.forwardRef(function({title:e,titleId:t,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z",clipRule:"evenodd"}))});e.exports=n},5118:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/[workspaceSlug]/settings/domain",function(){return r(7265)}])},9398:function(e,t,r){"use strict";var s=r(5893);let n=e=>{let{children:t,danger:r}=e;return r?(0,s.jsx)("div",{className:"flex flex-col justify-between border-2 border-red-600 rounded",children:t}):(0,s.jsx)("div",{className:"flex flex-col justify-between border rounded dark:border-gray-600",children:t})};n.Body=e=>{let{children:t,subtitle:r,title:n}=e;return(0,s.jsxs)("div",{className:"flex flex-col p-5 space-y-3 overflow-auto",children:[n?(0,s.jsx)("h2",{className:"text-2xl font-bold",children:n}):(0,s.jsx)("div",{className:"w-full h-8 bg-gray-400 rounded animate-pulse"}),r&&(0,s.jsx)("h3",{className:"text-gray-400",children:r}),(0,s.jsx)("div",{className:"flex flex-col",children:t})]})},n.Empty=e=>{let{children:t}=e;return(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"flex items-center justify-center p-5 bg-gray-100 border-4 border-dashed rounded dark:bg-transparent dark:border-gray-600",children:(0,s.jsx)("p",{children:t})})})},n.Footer=e=>{let{children:t}=e;return(0,s.jsx)("div",{className:"flex flex-row items-center justify-between px-5 py-3 space-x-5 bg-gray-100 border-t rounded-b dark:border-t-gray-600 dark:bg-gray-900",children:t})},n.Body.displayName="Body",n.Empty.displayName="Empty",n.Footer.displayName="Footer",t.Z=n},7265:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return _},default:function(){return k}});var s=r(5893),n=r(7294),a=r(6393),l=r(1664),i=r.n(l),o=r(6501),d=r(8100),c=r(221),u=r.n(c),m=r(5280),x=r(8982),f=r(5530),h=r(9398),p=r(6746);let g=e=>{let{apex:t,cname:r,domain:l,isLoading:o,refresh:d,remove:c}=e,{name:u,subdomain:g,value:b,verified:j}=l||{},{data:y,isLoading:v}=(0,p.ay)(u),[w,N]=(0,n.useState)(j?"cname":"txt"),_=(e,t)=>{let r=d(e,t);r&&N("cname")},k=()=>{let e=confirm("Are you sure you want to delete this domain: ".concat(u,"?"));e&&c(u)},Z=()=>N("apex"),E=()=>N("cname"),C=()=>N("txt");return(0,s.jsx)(h.Z,{children:o?(0,s.jsx)(h.Z.Body,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(h.Z.Body,{title:u,children:[(0,s.jsxs)("div",{className:"flex items-center mb-5 space-x-3",children:[(0,s.jsxs)(i(),{href:"https://".concat(u),className:"flex items-center space-x-2 text-blue-600 hover:underline",target:"_blank",children:[(0,s.jsxs)("span",{children:["Visit ",u]}),(0,s.jsx)(a,{className:"w-5 h-5"})]}),(null==y?void 0:y.valid)&&j?(0,s.jsxs)("h3",{className:"flex items-center space-x-1",children:[(0,s.jsx)(f,{className:"w-5 h-5 text-blue-600"}),(0,s.jsx)("span",{children:"Valid Configuration"})]}):(0,s.jsxs)("h3",{className:"flex items-center space-x-1 text-red-600",children:[(0,s.jsx)(x,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Invalid Configuration"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-5",children:[(0,s.jsx)("div",{className:"flex space-x-3",children:j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:["py-2","cname"===w?"border-b-2 border-b-gray-800":"text-gray-400"].join(" "),onClick:E,children:"CNAME Record (subdomains)"}),(0,s.jsx)("button",{className:["py-2","apex"===w?"border-b-2 border-b-gray-800":"text-gray-400"].join(" "),onClick:Z,children:"A Record (apex domain)"})]}):(0,s.jsx)("button",{className:["py-2","txt"===w?"border-b-2 border-b-gray-800":"text-gray-400"].join(" "),onClick:C,children:"TXT Record (verification)"})}),(0,s.jsx)("p",{children:"Set the following record on your DNS provider to continue:"}),(0,s.jsxs)("table",{className:"bg-gray-100 table-fixed",children:[(0,s.jsx)("thead",{className:"text-left",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-3",children:"Type"}),(0,s.jsx)("th",{className:"p-3",children:"Name"}),(0,s.jsx)("th",{className:"p-3",children:"Value"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{className:"font-mono text-sm",children:[(0,s.jsx)("td",{className:"p-3",children:"cname"===w?"CNAME":"txt"===w?"TXT":"A"}),(0,s.jsx)("td",{className:"p-3",children:"cname"===w?"www":"txt"===w?g:"@"}),(0,s.jsx)("td",{className:"p-3",children:"cname"===w?r:"txt"===w?b:t})]})})]})]})]}),(0,s.jsxs)(h.Z.Footer,{children:[j?(0,s.jsx)("span",{}):(0,s.jsxs)("span",{className:"text-red-600",children:[(0,s.jsx)("strong",{children:"Error"}),": Domain ",u," was added to a different project. Please complete verification to add it to this project instead."]}),(0,s.jsxs)("div",{className:"flex flex-row space-x-3",children:[(!(null==y?void 0:y.valid)||!j)&&(0,s.jsx)(m.Z,{className:"text-gray-600 border border-gray-600 hover:border-gray-600 hover:text-gray-600",disabled:v,onClick:()=>_(u,j),children:v?"Checking...":j?"Refresh":"Verify"}),(0,s.jsx)(m.Z,{className:"text-white bg-red-600 hover:bg-red-500",onClick:k,children:"Remove"})]})]})]})})};g.defaultProps={apex:"",cname:"",isLoading:!0,name:"",refresh:()=>{},remove:()=>{},slug:""};var b=r(9769),j=r(6400),y=r(1666),v=r(3167),w=r(7421);let N=e=>{let{isTeamOwner:t,workspace:r}=e,{t:l}=(0,w.$G)(),{data:c,isLoading:x}=(0,p.J9)(r.slug),[f,N]=(0,n.useState)(""),[_,k]=(0,n.useState)(!1),Z=u()(f),E=e=>{e.preventDefault(),k(!0),(0,v.Z)("/api/workspace/".concat(r.slug,"/domain"),{body:{domainName:f},method:"POST"}).then(e=>{k(!1),e.errors?Object.keys(e.errors).forEach(t=>o.ZP.error(e.errors[t].msg)):(N(""),o.ZP.success("Domain successfully added to workspace!"))})},C=e=>N(e.target.value),F=(e,t)=>(k(!0),t?(0,d.JG)("/api/workspace/domain/check?domain=".concat(e)).then(()=>k(!1)):(0,v.Z)("/api/workspace/".concat(r.slug,"/domain"),{body:{domainName:e},method:"PUT"}).then(e=>{k(!1),e.errors?Object.keys(e.errors).forEach(t=>o.ZP.error(e.errors[t].msg)):o.ZP.success("Domain successfully verified!")}),t),S=e=>{(0,v.Z)("/api/workspace/".concat(r.slug,"/domain"),{body:{domainName:e},method:"DELETE"}).then(e=>{e.errors?Object.keys(e.errors).forEach(t=>o.ZP.error(e.errors[t].msg)):o.ZP.success("Domain successfully deleted from workspace!")})};return(0,s.jsxs)(y.p0,{children:[(0,s.jsx)(j.Z,{title:"Nextacular - ".concat(r.name," | Domains")}),(0,s.jsx)(b.Z.Title,{title:l("settings.domain.subdomain.management"),subtitle:l("settings.domain.subdomain.management.description")}),(0,s.jsx)(b.Z.Divider,{}),(0,s.jsx)(b.Z.Container,{children:(0,s.jsx)(h.Z,{children:(0,s.jsx)(h.Z.Body,{title:l("settings.domain.subdomain.title"),subtitle:l("settings.domain.subdomain.description"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 font-mono text-sm border rounded md:w-1/2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:r.slug}),(0,s.jsxs)("span",{className:"pr-3",children:[".",r.host]})]}),(0,s.jsx)(i(),{href:"http://".concat(r.hostname),target:"_blank",children:(0,s.jsx)(a,{className:"w-5 h-5 cursor-pointer hover:text-blue-600"})})]})})})}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.Z.Divider,{thick:!0}),(0,s.jsx)(b.Z.Title,{title:l("settings.domain.domain.configuration"),subtitle:l("settings.domain.domain.configuration.description")}),(0,s.jsx)(b.Z.Divider,{}),(0,s.jsxs)(b.Z.Container,{children:[(0,s.jsx)(h.Z,{children:(0,s.jsxs)("form",{children:[(0,s.jsx)(h.Z.Body,{title:l("settings.domain.add.label"),subtitle:l("settings.domain.add.description"),children:(0,s.jsx)("input",{className:"px-3 py-2 border rounded md:w-1/2",disabled:_,onChange:C,placeholder:"mydomain.com",type:"text",value:f})}),(0,s.jsxs)(h.Z.Footer,{children:[(0,s.jsx)("span",{}),(0,s.jsx)(m.Z,{className:"text-white bg-blue-600 hover:bg-blue-500",disabled:!Z||_,onClick:E,children:"Add"})]})]})}),x?(0,s.jsx)(g,{isLoading:!0}):(null==c?void 0:c.domains.length)>0?c.domains.map((e,t)=>(0,s.jsx)(g,{apex:"76.76.21.21",cname:r.hostname,isLoading:_,domain:e,refresh:F,remove:S},t)):(0,s.jsx)(b.Z.Empty,{children:l("settings.domain.empty.message")})]})]})]})};var _=!0,k=N},221:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(e),(t=(0,n.default)(t,l)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var r=e.split("."),a=r[r.length-1];return!(t.require_tld&&(r.length<2||!t.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a)||/\s/.test(a))||!t.allow_numeric_tld&&/^\d+$/.test(a))&&r.every(function(e){return!(e.length>63&&!t.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||!t.allow_underscores&&/_/.test(e))})};var s=a(r(5571)),n=a(r(4808));function a(e){return e&&e.__esModule?e:{default:e}}var l={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};e.exports=t.default,e.exports.default=t.default},5571:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||e instanceof String)){var t=r(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default},4808:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e},e.exports=t.default,e.exports.default=t.default}},function(e){e.O(0,[664,438,575,774,888,179],function(){return e(e.s=5118)}),_N_E=e.O()}]);