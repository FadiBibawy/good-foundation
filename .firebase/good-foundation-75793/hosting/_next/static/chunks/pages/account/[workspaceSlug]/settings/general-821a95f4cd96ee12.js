(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83],{4005:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/[workspaceSlug]/settings/general",function(){return r(1738)}])},9398:function(e,s,r){"use strict";var t=r(5893);let a=e=>{let{children:s,danger:r}=e;return r?(0,t.jsx)("div",{className:"flex flex-col justify-between border-2 border-red-600 rounded",children:s}):(0,t.jsx)("div",{className:"flex flex-col justify-between border rounded dark:border-gray-600",children:s})};a.Body=e=>{let{children:s,subtitle:r,title:a}=e;return(0,t.jsxs)("div",{className:"flex flex-col p-5 space-y-3 overflow-auto",children:[a?(0,t.jsx)("h2",{className:"text-2xl font-bold",children:a}):(0,t.jsx)("div",{className:"w-full h-8 bg-gray-400 rounded animate-pulse"}),r&&(0,t.jsx)("h3",{className:"text-gray-400",children:r}),(0,t.jsx)("div",{className:"flex flex-col",children:s})]})},a.Empty=e=>{let{children:s}=e;return(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"flex items-center justify-center p-5 bg-gray-100 border-4 border-dashed rounded dark:bg-transparent dark:border-gray-600",children:(0,t.jsx)("p",{children:s})})})},a.Footer=e=>{let{children:s}=e;return(0,t.jsx)("div",{className:"flex flex-row items-center justify-between px-5 py-3 space-x-5 bg-gray-100 border-t rounded-b dark:border-t-gray-600 dark:bg-gray-900",children:s})},a.Body.displayName="Body",a.Empty.displayName="Empty",a.Footer.displayName="Footer",s.Z=a},1738:function(e,s,r){"use strict";r.r(s),r.d(s,{__N_SSP:function(){return v}});var t=r(5893),a=r(7294),l=r(4363),n=r(1163),o=r(4855),c=r(6501),d=r(4583),i=r(8220),u=r.n(i),x=r(5280),p=r(9398),g=r(9769),h=r(6400),m=r(1666),b=r(3167),j=r(8464),f=r(7421);let y=e=>{let{isTeamOwner:s,workspace:r}=e,i=(0,n.useRouter)(),{setWorkspace:y}=(0,j.c)(),{t:v}=(0,f.$G)(),[w,k]=(0,a.useState)(!1),[N,Z]=(0,a.useState)(r.name||""),[_,C]=(0,a.useState)(r.slug||""),P=N.length>0&&N.length<=16,E=_.length>0&&_.length<=16&&u()(_)&&(0,d.ZP)(_,void 0,{ignore:"-"}),S=e=>{e.preventDefault(),k(!0),(0,b.Z)("/api/workspace/".concat(r.slug,"/name"),{body:{name:N},method:"PUT"}).then(e=>{k(!1),e.errors?Object.keys(e.errors).forEach(s=>c.ZP.error(e.errors[s].msg)):c.ZP.success("Workspace name successfully updated!")})},B=e=>{e.preventDefault(),k(!0),(0,b.Z)("/api/workspace/".concat(r.slug,"/slug"),{body:{slug:_},method:"PUT"}).then(e=>{var s;k(!1);let r=null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.slug;e.errors?Object.keys(e.errors).forEach(s=>c.ZP.error(e.errors[s].msg)):(c.ZP.success("Workspace slug successfully updated!"),i.replace("/account/".concat(r,"/settings/general")))})},T=()=>c.ZP.success("Copied to clipboard!"),F=e=>Z(e.target.value),O=e=>C(e.target.value);return(0,a.useEffect)(()=>{Z(r.name),C(r.slug),y(r)},[r,y]),(0,t.jsxs)(m.p0,{children:[(0,t.jsx)(h.Z,{title:"Nextacular - ".concat(r.name," | Settings")}),(0,t.jsx)(g.Z.Title,{title:v("settings.workspace.information"),subtitle:v("settings.general.workspace.description")}),(0,t.jsx)(g.Z.Divider,{}),(0,t.jsxs)(g.Z.Container,{children:[(0,t.jsxs)(p.Z,{children:[(0,t.jsx)(p.Z.Body,{title:v("workspace.action.name.label"),subtitle:v("settings.workspace.name.description"),children:(0,t.jsx)("input",{className:"px-3 py-2 border rounded md:w-1/2",disabled:w||!s,onChange:F,type:"text",value:N})}),(0,t.jsxs)(p.Z.Footer,{children:[(0,t.jsx)("small",{children:"Please use 16 characters at maximum"}),s&&(0,t.jsx)(x.Z,{className:"text-white bg-blue-600 hover:bg-blue-500",disabled:!P||w,onClick:S,children:"Save"})]})]}),(0,t.jsxs)(p.Z,{children:[(0,t.jsx)(p.Z.Body,{title:v("settings.workspace.slug"),subtitle:v("setting.workspace.slug.description"),children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{className:"px-3 py-2 border rounded md:w-1/2",disabled:w||!s,onChange:O,type:"text",value:_}),(0,t.jsxs)("span",{className:"text-sm ".concat(_.length>16&&"text-red-600"),children:[_.length," / 16"]})]})}),(0,t.jsxs)(p.Z.Footer,{children:[(0,t.jsx)("small",{children:v("settings.workspace.slug.validation.message")}),s&&(0,t.jsx)(x.Z,{className:"text-white bg-blue-600 hover:bg-blue-500",disabled:!E||w,onClick:B,children:v("common.label.save")})]})]}),(0,t.jsx)(p.Z,{children:(0,t.jsx)(p.Z.Body,{title:v("settings.workspace.slug.validation.message"),subtitle:v("settings.workspace.id.description"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 space-x-5 font-mono text-sm border rounded md:w-1/2",children:[(0,t.jsx)("span",{className:"overflow-x-auto",children:r.workspaceCode}),(0,t.jsx)(o.CopyToClipboard,{onCopy:T,text:r.workspaceCode,children:(0,t.jsx)(l,{className:"w-5 h-5 cursor-pointer hover:text-blue-600"})})]})})})]})]})};var v=!0;s.default=y}},function(e){e.O(0,[664,438,189,575,774,888,179],function(){return e(e.s=4005)}),_N_E=e.O()}]);